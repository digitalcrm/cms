!function(e,t){"use strict";"object"!=typeof module||"object"!=typeof module.exports?t(e):module.exports=e.document?t(e):function(e){if(!e.document)throw new Error("jscolor needs a window with document");return t(e)}}("undefined"!=typeof window?window:this,function(v){"use strict";var e,t,m,t=((m={initialized:!1,instances:[],triggerQueue:[],register:function(){void 0!==v&&v.document&&v.document.addEventListener("DOMContentLoaded",m.pub.init,!1)},installBySelector:function(e,t){if(!(t=t?m.node(t):v.document))throw new Error("Missing root node");for(var r,n,i=t.querySelectorAll(e),o=new RegExp("(^|\\s)("+m.pub.lookupClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),a=0;a<i.length;a+=1)if(!(i[a].jscolor&&i[a].jscolor instanceof m.pub))if(void 0===i[a].type||"color"!=i[a].type.toLowerCase()||!m.isColorAttrSupported)if(null!==(r=m.getDataAttr(i[a],"jscolor"))||i[a].className&&(n=i[a].className.match(o))){var s=i[a],l="";null!==r?l=r:n&&(console.warn('Installation using class name is DEPRECATED. Use data-jscolor="" attribute instead.'+m.docsRef),n[4]&&(l=n[4]));var h=null;if(l.trim())try{h=m.parseOptionsStr(l)}catch(e){console.warn(e+"\n"+l)}try{new m.pub(s,h)}catch(e){console.warn(e)}}},parseOptionsStr:function(t){var r=null;try{r=JSON.parse(t)}catch(e){if(!m.pub.looseJSON)throw new Error("Could not parse jscolor options as JSON: "+e);try{r=new Function("var opts = ("+t+'); return typeof opts === "object" ? opts : {};')()}catch(e){throw new Error("Could not evaluate jscolor options: "+e)}}return r},getInstances:function(){for(var e=[],t=0;t<m.instances.length;t+=1)m.instances[t]&&m.instances[t].targetElement&&e.push(m.instances[t]);return e},createEl:function(e){e=v.document.createElement(e);return m.setData(e,"gui",!0),e},node:function(e){if(!e)return null;if("string"!=typeof e)return m.isNode(e)?e:(console.warn("Invalid node of type %s: %s",typeof e,e),null);var t=e,r=null;try{r=v.document.querySelector(t)}catch(e){return console.warn(e),null}return r||console.warn("No element matches the selector: %s",t),r},isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeName:function(e){return!(!e||!e.nodeName)&&e.nodeName.toLowerCase()},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},isTextInput:function(e){return e&&"input"===m.nodeName(e)&&"text"===e.type.toLowerCase()},isButton:function(e){if(!e)return!1;var t=m.nodeName(e);return"button"===t||"input"===t&&-1<["button","submit","reset"].indexOf(e.type.toLowerCase())},isButtonEmpty:function(e){switch(m.nodeName(e)){case"input":return!e.value||""===e.value.trim();case"button":return""===e.textContent.trim()}return null},isPassiveEventSupported:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});v.addEventListener("testPassive",null,t),v.removeEventListener("testPassive",null,t)}catch(e){}return e}(),isColorAttrSupported:!(!(t=v.document.createElement("input")).setAttribute||(t.setAttribute("type","color"),"color"!=t.type.toLowerCase())),dataProp:"_data_jscolor",setData:function(){var e=arguments[0];if(3===arguments.length){var t=e.hasOwnProperty(m.dataProp)?e[m.dataProp]:e[m.dataProp]={},r=arguments[2];return t[n=arguments[1]]=r,!0}if(2!==arguments.length||"object"!=typeof arguments[1])throw new Error("Invalid arguments");var n,t=e.hasOwnProperty(m.dataProp)?e[m.dataProp]:e[m.dataProp]={},i=arguments[1];for(n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return!0},removeData:function(){var e=arguments[0];if(!e.hasOwnProperty(m.dataProp))return!0;for(var t=1;t<arguments.length;t+=1){var r=arguments[t];delete e[m.dataProp][r]}return!0},getData:function(e,t,r){if(!e.hasOwnProperty(m.dataProp)){if(void 0===r)return;e[m.dataProp]={}}e=e[m.dataProp];return e.hasOwnProperty(t)||void 0===r||(e[t]=r),e[t]},getDataAttr:function(e,t){t="data-"+t;return e.getAttribute(t)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,r,n){m._attachedGroupEvents.hasOwnProperty(e)||(m._attachedGroupEvents[e]=[]),m._attachedGroupEvents[e].push([t,r,n]),t.addEventListener(r,n,!1)},detachGroupEvents:function(e){if(m._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<m._attachedGroupEvents[e].length;t+=1){var r=m._attachedGroupEvents[e][t];r[0].removeEventListener(r[1],r[2],!1)}delete m._attachedGroupEvents[e]}},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(m._capturedTarget=e,m._capturedTarget.setCapture())},releaseTarget:function(){m._capturedTarget&&(m._capturedTarget.releaseCapture(),m._capturedTarget=null)},triggerEvent:function(e,t,r,n){if(e){var i=null;return("function"==typeof Event?i=new Event(t,{bubbles:r,cancelable:n}):(i=v.document.createEvent("Event")).initEvent(t,r,n),i)?(m.setData(i,"internal",!0),e.dispatchEvent(i),!0):!1}},triggerInputEvent:function(e,t,r,n){e&&m.isTextInput(e)&&m.triggerEvent(e,t,r,n)},eventKey:function(e){var t={9:"Tab",13:"Enter",27:"Escape"};return"string"==typeof e.code?e.code:void 0!==e.keyCode&&t.hasOwnProperty(e.keyCode)?t[e.keyCode]:null},strList:function(e){return e?e.replace(/^\s+|\s+$/g,"").split(/\s+/):[]},hasClass:function(e,t){return!!t&&(void 0!==e.classList?e.classList.contains(t):-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" "))},addClass:function(e,t){var r=m.strList(t);if(void 0===e.classList)for(n=0;n<r.length;n+=1)m.hasClass(e,r[n])||(e.className+=(e.className?" ":"")+r[n]);else for(var n=0;n<r.length;n+=1)e.classList.add(r[n])},removeClass:function(e,t){var r=m.strList(t);if(void 0===e.classList)for(i=0;i<r.length;i+=1){var n=new RegExp("^\\s*"+r[i]+"\\s*|\\s*"+r[i]+"\\s*$|\\s+"+r[i]+"(\\s+)","g");e.className=e.className.replace(n,"$1")}else for(var i=0;i<r.length;i+=1)e.classList.remove(r[i])},getCompStyle:function(e){e=v.getComputedStyle?v.getComputedStyle(e):e.currentStyle;return e||{}},setStyle:function(e,t,r,n){var i,o,a=r?"important":"",s=null;for(i in t)t.hasOwnProperty(i)&&((o=null)===t[i]?(s=s||m.getData(e,"origStyle"))&&s.hasOwnProperty(i)&&(o=s[i]):(n&&((s=s||m.getData(e,"origStyle",{})).hasOwnProperty(i)||(s[i]=e.style[i])),o=t[i]),null!==o&&e.style.setProperty(i,o,a))},linearGradient:(e=function(){for(var e="linear-gradient",t=["","-webkit-","-moz-","-o-","-ms-"],r=v.document.createElement("div"),n=0;n<t.length;n+=1){var i=t[n]+e,o=i+"(to right, rgba(0,0,0,0), rgba(0,0,0,0))";if(r.style.background=o,r.style.background)return i}return e}(),function(){return e+"("+Array.prototype.join.call(arguments,", ")+")"}),setBorderRadius:function(e,t){m.setStyle(e,{"border-radius":t||"0"})},setBoxShadow:function(e,t){m.setStyle(e,{"box-shadow":t||"none"})},getElementPos:function(e,t){var r=0,n=0,e=e.getBoundingClientRect(),r=e.left,n=e.top;return t||(r+=(t=m.getViewPos())[0],n+=t[1]),[r,n]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,r=0;return void 0!==e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,r=e.clientY),{x:t,y:r}},getRelPointerPos:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),r=0,n=0;return void 0!==e.changedTouches&&e.changedTouches.length?(r=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(r=e.clientX,n=e.clientY),{x:r-t.left,y:n-t.top}},getViewPos:function(){var e=v.document.documentElement;return[(v.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(v.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=v.document.documentElement;return[v.innerWidth||e.clientWidth,v.innerHeight||e.clientHeight]},RGB_HSV:function(e,t,r){e/=255,t/=255,r/=255;var n=Math.min(Math.min(e,t),r),i=Math.max(Math.max(e,t),r),o=i-n;if(0==o)return[null,0,100*i];e=e===n?3+(r-t)/o:t===n?5+(e-r)/o:1+(t-e)/o;return[60*(6==e?0:e),o/i*100,100*i]},HSV_RGB:function(e,t,r){var n=r/100*255;if(null===e)return[n,n,n];e/=60,t/=100;var i=Math.floor(e),r=n*(1-t),e=n*(1-t*(i%2?e-i:1-(e-i)));switch(i){case 6:case 0:return[n,e,r];case 1:return[e,n,r];case 2:return[r,n,e];case 3:return[r,e,n];case 4:return[e,r,n];case 5:return[n,r,e]}},parseColorString:function(e){var t={rgba:null,format:null};if(a=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return t.format="hex",6===a[1].length?t.rgba=[parseInt(a[1].substr(0,2),16),parseInt(a[1].substr(2,2),16),parseInt(a[1].substr(4,2),16),null]:t.rgba=[parseInt(a[1].charAt(0)+a[1].charAt(0),16),parseInt(a[1].charAt(1)+a[1].charAt(1),16),parseInt(a[1].charAt(2)+a[1].charAt(2),16),null],t;if(a=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,n,i,o,e=a[1].split(","),a=/^\s*(\d+|\d*\.\d+|\d+\.\d*)\s*$/;if(3<=e.length&&(r=e[0].match(a))&&(n=e[1].match(a))&&(i=e[2].match(a)))return t.format="rgb",t.rgba=[parseFloat(r[1])||0,parseFloat(n[1])||0,parseFloat(i[1])||0,null],4<=e.length&&(o=e[3].match(a))&&(t.format="rgba",t.rgba[3]=parseFloat(o[1])||0),t}return!1},scaleCanvasForHighDPR:function(e){var t=v.devicePixelRatio||1;e.width*=t,e.height*=t,e.getContext("2d").scale(t,t)},genColorPreviewCanvas:function(e,t,r,n){var i=Math.round(m.pub.previewSeparator.length),o=m.pub.chessboardSize,a=m.pub.chessboardColor1,s=m.pub.chessboardColor2,l=r||2*o,h=2*o,r=m.createEl("canvas"),d=r.getContext("2d");r.width=l,r.height=h,n&&m.scaleCanvasForHighDPR(r),d.fillStyle=a,d.fillRect(0,0,l,h),d.fillStyle=s;for(var c=0;c<l;c+=2*o)d.fillRect(c,0,o,o),d.fillRect(c+o,o,o,o);e&&(d.fillStyle=e,d.fillRect(0,0,l,h));var p=null;switch(t){case"left":p=0,d.clearRect(0,0,i/2,h);break;case"right":p=l-i,d.clearRect(l-i/2,0,i/2,h)}if(null!==p){d.lineWidth=1;for(var u=0;u<m.pub.previewSeparator.length;u+=1)d.beginPath(),d.strokeStyle=m.pub.previewSeparator[u],d.moveTo(.5+p+u,0),d.lineTo(.5+p+u,h),d.stroke()}return{canvas:r,width:l,height:h}},genColorPreviewGradient:function(e,t,r){var n=[],n=t&&r?["to "+{left:"right",right:"left"}[t],e+" 0%",e+" "+r+"px","rgba(0,0,0,0) "+(r+1)+"px","rgba(0,0,0,0) 100%"]:["to right",e+" 0%",e+" 100%"];return m.linearGradient.apply(this,n)},redrawPosition:function(){if(m.picker&&m.picker.owner){var e,t=m.picker.owner,r=t.fixed?(e=m.getElementPos(t.targetElement,!0),[0,0]):(e=m.getElementPos(t.targetElement),m.getViewPos()),n=m.getElementSize(t.targetElement),i=m.getViewSize(),o=m.getPickerOuterDims(t);switch(t.position.toLowerCase()){case"left":h=0,s=-(l=1);break;case"right":h=0,s=l=1;break;case"top":l=0,s=-(h=1);break;default:l=0,s=h=1}var a=(n[h]+o[h])/2,s=(a=t.smartPosition?[-r[l]+e[l]+o[l]>i[l]&&-r[l]+e[l]+n[l]/2>i[l]/2&&0<=e[l]+n[l]-o[l]?e[l]+n[l]-o[l]:e[l],-r[h]+e[h]+n[h]+o[h]-a+a*s>i[h]?-r[h]+e[h]+n[h]/2>i[h]/2&&0<=e[h]+n[h]-a-a*s?e[h]+n[h]-a-a*s:e[h]+n[h]-a+a*s:0<=e[h]+n[h]-a+a*s?e[h]+n[h]-a+a*s:e[h]+n[h]-a-a*s]:[e[l],e[h]+n[h]-a+a*s])[l],l=a[h],h=t.fixed?"fixed":"absolute",n=(a[0]+o[0]>e[0]||a[0]<e[0]+n[0])&&a[1]+o[1]<e[1]+n[1];m._drawPosition(t,s,l,h,n)}},_drawPosition:function(e,t,r,n,i){i=i?0:e.shadowBlur;m.picker.wrap.style.position=n,m.picker.wrap.style.left=t+"px",m.picker.wrap.style.top=r+"px",m.setBoxShadow(m.picker.boxS,e.shadow?new m.BoxShadow(0,i,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=[2*e.controlBorderWidth+2*e.padding+e.width,2*e.controlBorderWidth+2*e.padding+e.height],r=2*e.controlBorderWidth+2*m.getControlPadding(e)+e.sliderSize;return m.getSliderChannel(e)&&(t[0]+=r),e.hasAlphaChannel()&&(t[0]+=r),e.closeButton&&(t[1]+=2*e.controlBorderWidth+e.padding+e.buttonHeight),t},getPickerOuterDims:function(e){var t=m.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getControlPadding:function(e){return Math.max(e.padding/2,2*e.pointerBorderWidth+e.pointerThickness-e.controlBorderWidth)},getPadYChannel:function(e){return"v"===e.mode.charAt(1).toLowerCase()?"v":"s"},getSliderChannel:function(e){if(2<e.mode.length)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){var t=e.target||e.srcElement;t.jscolor&&t.jscolor instanceof m.pub?t.jscolor.showOnClick&&!t.disabled&&t.jscolor.show():m.getData(t,"gui")?m.getData(t,"control")&&m.onControlPointerStart(e,t,m.getData(t,"control"),"mouse"):m.picker&&m.picker.owner&&m.picker.owner.tryHide()},onDocumentKeyUp:function(e){-1!==["Tab","Escape"].indexOf(m.eventKey(e))&&m.picker&&m.picker.owner&&m.picker.owner.tryHide()},onWindowResize:function(e){m.redrawPosition()},onParentScroll:function(e){m.picker&&m.picker.owner&&m.picker.owner.tryHide()},onPickerTouchStart:function(e){var t=e.target||e.srcElement;m.getData(t,"control")&&m.onControlPointerStart(e,t,m.getData(t,"control"),"touch")},triggerCallback:function(e,t){if(e[t]){var r=null;if("string"==typeof e[t])try{r=new Function(e[t])}catch(e){console.error(e)}else r=e[t];r&&r.call(e)}},triggerGlobal:function(e){for(var t=m.getInstances(),r=0;r<t.length;r+=1)t[r].trigger(e)},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(r,n,i,o){var e=m.getData(n,"instance");m.preventDefault(r),m.captureTarget(n);var t=function(e,t){m.attachGroupEvent("drag",e,m._pointerMoveEvent[o],m.onDocumentPointerMove(r,n,i,o,t)),m.attachGroupEvent("drag",e,m._pointerEndEvent[o],m.onDocumentPointerEnd(r,n,i,o))};t(v.document,[0,0]),v.parent&&v.frameElement&&(a=[-(a=v.frameElement.getBoundingClientRect()).left,-a.top],t(v.parent.window.document,a));var t=m.getAbsPointerPos(r),a=m.getRelPointerPos(r);switch(m._pointerOrigin={x:t.x-a.x,y:t.y-a.y},i){case"pad":"v"===m.getSliderChannel(e)&&0===e.channels.v&&e.fromHSVA(null,null,100,null),m.setPad(e,r,0,0);break;case"sld":m.setSld(e,r,0);break;case"asld":m.setASld(e,r,0)}e.trigger("input")},onDocumentPointerMove:function(e,r,n,t,i){return function(e){var t=m.getData(r,"instance");switch(n){case"pad":m.setPad(t,e,i[0],i[1]);break;case"sld":m.setSld(t,e,i[1]);break;case"asld":m.setASld(t,e,i[1])}t.trigger("input")}},onDocumentPointerEnd:function(e,r,t,n){return function(e){var t=m.getData(r,"instance");m.detachGroupEvents("drag"),m.releaseTarget(),t.trigger("input"),t.trigger("change")}},setPad:function(e,t,r,n){t=m.getAbsPointerPos(t),r=r+t.x-m._pointerOrigin.x-e.padding-e.controlBorderWidth,t=n+t.y-m._pointerOrigin.y-e.padding-e.controlBorderWidth,r*=360/(e.width-1),t=100-t*(100/(e.height-1));switch(m.getPadYChannel(e)){case"s":e.fromHSVA(r,t,null,null);break;case"v":e.fromHSVA(r,null,t,null)}},setSld:function(e,t,r){t=100-(r+m.getAbsPointerPos(t).y-m._pointerOrigin.y-e.padding-e.controlBorderWidth)*(100/(e.height-1));switch(m.getSliderChannel(e)){case"s":e.fromHSVA(null,t,null,null);break;case"v":e.fromHSVA(null,null,t,null)}},setASld:function(e,t,r){t=1-(r+m.getAbsPointerPos(t).y-m._pointerOrigin.y-e.padding-e.controlBorderWidth)*(1/(e.height-1));t<1&&"any"===e.format.toLowerCase()&&"rgba"!==e.getFormat()&&(e._currentFormat="rgba"),e.fromHSVA(null,null,null,t)},createPalette:function(){var e={elm:null,draw:null},n=m.createEl("canvas"),i=n.getContext("2d");return e.elm=n,e.draw=function(e,t,r){n.width=e,n.height=t,i.clearRect(0,0,n.width,n.height);t=i.createLinearGradient(0,0,n.width,0);t.addColorStop(0,"#F00"),t.addColorStop(1/6,"#FF0"),t.addColorStop(2/6,"#0F0"),t.addColorStop(.5,"#0FF"),t.addColorStop(4/6,"#00F"),t.addColorStop(5/6,"#F0F"),t.addColorStop(1,"#F00"),i.fillStyle=t,i.fillRect(0,0,n.width,n.height);t=i.createLinearGradient(0,0,0,n.height);switch(r.toLowerCase()){case"s":t.addColorStop(0,"rgba(255,255,255,0)"),t.addColorStop(1,"rgba(255,255,255,1)");break;case"v":t.addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=t,i.fillRect(0,0,n.width,n.height)},e},createSliderGradient:function(){var e={elm:null,draw:null},i=m.createEl("canvas"),o=i.getContext("2d");return e.elm=i,e.draw=function(e,t,r,n){i.width=e,i.height=t,o.clearRect(0,0,i.width,i.height);t=o.createLinearGradient(0,0,0,i.height);t.addColorStop(0,r),t.addColorStop(1,n),o.fillStyle=t,o.fillRect(0,0,i.width,i.height)},e},createASliderGradient:function(){var e={elm:null,draw:null},a=m.createEl("canvas"),s=a.getContext("2d");return e.elm=a,e.draw=function(e,t,r){a.width=e,a.height=t,s.clearRect(0,0,a.width,a.height);var n=a.width/2,t=m.pub.chessboardColor1,i=m.pub.chessboardColor2;s.fillStyle=t,s.fillRect(0,0,a.width,a.height);for(var o=0;o<a.height;o+=2*n)s.fillStyle=i,s.fillRect(0,o,n,n),s.fillRect(n,o+n,n,n);t=s.createLinearGradient(0,0,0,a.height);t.addColorStop(0,r),t.addColorStop(1,"rgba(0,0,0,0)"),s.fillStyle=t,s.fillRect(0,0,a.width,a.height)},e},BoxShadow:(r.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},r),flags:{leaveValue:1,leaveAlpha:2,leavePreview:4},enumOpts:{format:["auto","any","hex","rgb","rgba"],previewPosition:["left","right"],mode:["hsv","hvs","hs","hv"],position:["left","right","top","bottom"],alphaChannel:["auto",!0,!1]},deprecatedOpts:{styleElement:"previewElement",onFineChange:"onInput",overwriteImportant:"forceStyle",closable:"closeButton",insetWidth:"controlBorderWidth",insetColor:"controlBorderColor",refine:null},docsRef:" See https://jscolor.com/docs/",pub:function(e,t){var l=this;if(t=t||{},this.channels={r:255,g:255,b:255,h:0,s:0,v:100,a:1},this.format="auto",this.value=void 0,this.alpha=void 0,this.onChange=void 0,this.onInput=void 0,this.valueElement=void 0,this.alphaElement=void 0,this.previewElement=void 0,this.previewPosition="left",this.previewSize=32,this.previewPadding=8,this.required=!0,this.hash=!0,this.uppercase=!0,this.forceStyle=!0,this.width=181,this.height=101,this.mode="HSV",this.alphaChannel="auto",this.position="bottom",this.smartPosition=!0,this.showOnClick=!0,this.hideOnLeave=!0,this.sliderSize=16,this.crossSize=8,this.closeButton=!1,this.closeText="Close",this.buttonColor="rgba(0,0,0,1)",this.buttonHeight=18,this.padding=12,this.backgroundColor="rgba(255,255,255,1)",this.borderWidth=1,this.borderColor="rgba(187,187,187,1)",this.borderRadius=8,this.controlBorderWidth=1,this.controlBorderColor="rgba(187,187,187,1)",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="rgba(76,76,76,1)",this.pointerBorderWidth=1,this.pointerBorderColor="rgba(255,255,255,1)",this.pointerThickness=2,this.zIndex=5e3,this.container=void 0,this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.minA=0,this.maxA=1,m.pub.options)for(var r in m.pub.options)if(m.pub.options.hasOwnProperty(r))try{s(r,m.pub.options[r])}catch(e){console.warn(e)}var n=[];t.preset&&("string"==typeof t.preset?n=t.preset.split(/\s+/):Array.isArray(t.preset)?n=t.preset.slice():console.warn("Unrecognized preset value")),-1===n.indexOf("default")&&n.push("default");for(var i=n.length-1;0<=i;--i){var o=n[i];if(o)if(m.pub.presets.hasOwnProperty(o)){for(var r in m.pub.presets[o])if(m.pub.presets[o].hasOwnProperty(r))try{s(r,m.pub.presets[o][r])}catch(e){console.warn(e)}}else console.warn("Unknown preset: %s",o)}var a=["preset"];for(r in t)if(t.hasOwnProperty(r)&&-1===a.indexOf(r))try{s(r,t[r])}catch(e){console.warn(e)}function s(e,t){if("string"!=typeof e)throw new Error("Invalid value for option name: "+e);if(m.enumOpts.hasOwnProperty(e)&&("string"==typeof t&&(t=t.toLowerCase()),-1===m.enumOpts[e].indexOf(t)))throw new Error("Option '"+e+"' has invalid value: "+t);if(m.deprecatedOpts.hasOwnProperty(e)){var r=e,n=m.deprecatedOpts[e];if(!n)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+m.docsRef,r,n),e=n}if(!(e in l))throw new Error("Unrecognized configuration option: "+e);return l[e]=t,1}function h(){l._processParentElementsInDOM(),m.picker||(m.picker={owner:null,wrap:m.createEl("div"),box:m.createEl("div"),boxS:m.createEl("div"),boxB:m.createEl("div"),pad:m.createEl("div"),padB:m.createEl("div"),padM:m.createEl("div"),padPal:m.createPalette(),cross:m.createEl("div"),crossBY:m.createEl("div"),crossBX:m.createEl("div"),crossLY:m.createEl("div"),crossLX:m.createEl("div"),sld:m.createEl("div"),sldB:m.createEl("div"),sldM:m.createEl("div"),sldGrad:m.createSliderGradient(),sldPtrS:m.createEl("div"),sldPtrIB:m.createEl("div"),sldPtrMB:m.createEl("div"),sldPtrOB:m.createEl("div"),asld:m.createEl("div"),asldB:m.createEl("div"),asldM:m.createEl("div"),asldGrad:m.createASliderGradient(),asldPtrS:m.createEl("div"),asldPtrIB:m.createEl("div"),asldPtrMB:m.createEl("div"),asldPtrOB:m.createEl("div"),btn:m.createEl("div"),btnT:m.createEl("span")},m.picker.pad.appendChild(m.picker.padPal.elm),m.picker.padB.appendChild(m.picker.pad),m.picker.cross.appendChild(m.picker.crossBY),m.picker.cross.appendChild(m.picker.crossBX),m.picker.cross.appendChild(m.picker.crossLY),m.picker.cross.appendChild(m.picker.crossLX),m.picker.padB.appendChild(m.picker.cross),m.picker.box.appendChild(m.picker.padB),m.picker.box.appendChild(m.picker.padM),m.picker.sld.appendChild(m.picker.sldGrad.elm),m.picker.sldB.appendChild(m.picker.sld),m.picker.sldB.appendChild(m.picker.sldPtrOB),m.picker.sldPtrOB.appendChild(m.picker.sldPtrMB),m.picker.sldPtrMB.appendChild(m.picker.sldPtrIB),m.picker.sldPtrIB.appendChild(m.picker.sldPtrS),m.picker.box.appendChild(m.picker.sldB),m.picker.box.appendChild(m.picker.sldM),m.picker.asld.appendChild(m.picker.asldGrad.elm),m.picker.asldB.appendChild(m.picker.asld),m.picker.asldB.appendChild(m.picker.asldPtrOB),m.picker.asldPtrOB.appendChild(m.picker.asldPtrMB),m.picker.asldPtrMB.appendChild(m.picker.asldPtrIB),m.picker.asldPtrIB.appendChild(m.picker.asldPtrS),m.picker.box.appendChild(m.picker.asldB),m.picker.box.appendChild(m.picker.asldM),m.picker.btn.appendChild(m.picker.btnT),m.picker.box.appendChild(m.picker.btn),m.picker.boxB.appendChild(m.picker.box),m.picker.wrap.appendChild(m.picker.boxS),m.picker.wrap.appendChild(m.picker.boxB),m.picker.wrap.addEventListener("touchstart",m.onPickerTouchStart,!!m.isPassiveEventSupported&&{passive:!1}));var e=m.picker,t=!!m.getSliderChannel(l),r=l.hasAlphaChannel(),n=m.getPickerDims(l),i=2*l.pointerBorderWidth+l.pointerThickness+2*l.crossSize,o=m.getControlPadding(l),a=Math.min(l.borderRadius,Math.round(l.padding*Math.PI));e.wrap.className="jscolor-picker-wrap",e.wrap.style.clear="both",e.wrap.style.width=n[0]+2*l.borderWidth+"px",e.wrap.style.height=n[1]+2*l.borderWidth+"px",e.wrap.style.zIndex=l.zIndex,e.box.className="jscolor-picker",e.box.style.width=n[0]+"px",e.box.style.height=n[1]+"px",e.box.style.position="relative",e.boxS.className="jscolor-picker-shadow",e.boxS.style.position="absolute",e.boxS.style.left="0",e.boxS.style.top="0",e.boxS.style.width="100%",e.boxS.style.height="100%",m.setBorderRadius(e.boxS,a+"px"),e.boxB.className="jscolor-picker-border",e.boxB.style.position="relative",e.boxB.style.border=l.borderWidth+"px solid",e.boxB.style.borderColor=l.borderColor,e.boxB.style.background=l.backgroundColor,m.setBorderRadius(e.boxB,a+"px"),e.padM.style.background="rgba(255,0,0,.2)",e.sldM.style.background="rgba(0,255,0,.2)",e.asldM.style.background="rgba(0,0,255,.2)",e.padM.style.opacity=e.sldM.style.opacity=e.asldM.style.opacity="0",e.pad.style.position="relative",e.pad.style.width=l.width+"px",e.pad.style.height=l.height+"px",e.padPal.draw(l.width,l.height,m.getPadYChannel(l)),e.padB.style.position="absolute",e.padB.style.left=l.padding+"px",e.padB.style.top=l.padding+"px",e.padB.style.border=l.controlBorderWidth+"px solid",e.padB.style.borderColor=l.controlBorderColor,e.padM.style.position="absolute",e.padM.style.left="0px",e.padM.style.top="0px",e.padM.style.width=l.padding+2*l.controlBorderWidth+l.width+o+"px",e.padM.style.height=2*l.controlBorderWidth+2*l.padding+l.height+"px",e.padM.style.cursor="crosshair",m.setData(e.padM,{instance:l,control:"pad"}),e.cross.style.position="absolute",e.cross.style.left=e.cross.style.top="0",e.cross.style.width=e.cross.style.height=i+"px",e.crossBY.style.position=e.crossBX.style.position="absolute",e.crossBY.style.background=e.crossBX.style.background=l.pointerBorderColor,e.crossBY.style.width=e.crossBX.style.height=2*l.pointerBorderWidth+l.pointerThickness+"px",e.crossBY.style.height=e.crossBX.style.width=i+"px",e.crossBY.style.left=e.crossBX.style.top=Math.floor(i/2)-Math.floor(l.pointerThickness/2)-l.pointerBorderWidth+"px",e.crossBY.style.top=e.crossBX.style.left="0",e.crossLY.style.position=e.crossLX.style.position="absolute",e.crossLY.style.background=e.crossLX.style.background=l.pointerColor,e.crossLY.style.height=e.crossLX.style.width=i-2*l.pointerBorderWidth+"px",e.crossLY.style.width=e.crossLX.style.height=l.pointerThickness+"px",e.crossLY.style.left=e.crossLX.style.top=Math.floor(i/2)-Math.floor(l.pointerThickness/2)+"px",e.crossLY.style.top=e.crossLX.style.left=l.pointerBorderWidth+"px",e.sld.style.overflow="hidden",e.sld.style.width=l.sliderSize+"px",e.sld.style.height=l.height+"px",e.sldGrad.draw(l.sliderSize,l.height,"#000","#000"),e.sldB.style.display=t?"block":"none",e.sldB.style.position="absolute",e.sldB.style.left=l.padding+l.width+2*l.controlBorderWidth+2*o+"px",e.sldB.style.top=l.padding+"px",e.sldB.style.border=l.controlBorderWidth+"px solid",e.sldB.style.borderColor=l.controlBorderColor,e.sldM.style.display=t?"block":"none",e.sldM.style.position="absolute",e.sldM.style.left=l.padding+l.width+2*l.controlBorderWidth+o+"px",e.sldM.style.top="0px",e.sldM.style.width=l.sliderSize+2*o+2*l.controlBorderWidth+(r?0:Math.max(0,l.padding-o))+"px",e.sldM.style.height=2*l.controlBorderWidth+2*l.padding+l.height+"px",e.sldM.style.cursor="default",m.setData(e.sldM,{instance:l,control:"sld"}),e.sldPtrIB.style.border=e.sldPtrOB.style.border=l.pointerBorderWidth+"px solid "+l.pointerBorderColor,e.sldPtrOB.style.position="absolute",e.sldPtrOB.style.left=-(2*l.pointerBorderWidth+l.pointerThickness)+"px",e.sldPtrOB.style.top="0",e.sldPtrMB.style.border=l.pointerThickness+"px solid "+l.pointerColor,e.sldPtrS.style.width=l.sliderSize+"px",e.sldPtrS.style.height=m.pub.sliderInnerSpace+"px",e.asld.style.overflow="hidden",e.asld.style.width=l.sliderSize+"px",e.asld.style.height=l.height+"px",e.asldGrad.draw(l.sliderSize,l.height,"#000"),e.asldB.style.display=r?"block":"none",e.asldB.style.position="absolute",e.asldB.style.left=l.padding+l.width+2*l.controlBorderWidth+o+(t?l.sliderSize+3*o+2*l.controlBorderWidth:0)+"px",e.asldB.style.top=l.padding+"px",e.asldB.style.border=l.controlBorderWidth+"px solid",e.asldB.style.borderColor=l.controlBorderColor,e.asldM.style.display=r?"block":"none",e.asldM.style.position="absolute",e.asldM.style.left=l.padding+l.width+2*l.controlBorderWidth+o+(t?l.sliderSize+2*o+2*l.controlBorderWidth:0)+"px",e.asldM.style.top="0px",e.asldM.style.width=l.sliderSize+2*o+2*l.controlBorderWidth+Math.max(0,l.padding-o)+"px",e.asldM.style.height=2*l.controlBorderWidth+2*l.padding+l.height+"px",e.asldM.style.cursor="default",m.setData(e.asldM,{instance:l,control:"asld"}),e.asldPtrIB.style.border=e.asldPtrOB.style.border=l.pointerBorderWidth+"px solid "+l.pointerBorderColor,e.asldPtrOB.style.position="absolute",e.asldPtrOB.style.left=-(2*l.pointerBorderWidth+l.pointerThickness)+"px",e.asldPtrOB.style.top="0",e.asldPtrMB.style.border=l.pointerThickness+"px solid "+l.pointerColor,e.asldPtrS.style.width=l.sliderSize+"px",e.asldPtrS.style.height=m.pub.sliderInnerSpace+"px";var s;e.btn.className="jscolor-btn-close",e.btn.style.display=l.closeButton?"block":"none",e.btn.style.position="absolute",e.btn.style.left=l.padding+"px",e.btn.style.bottom=l.padding+"px",e.btn.style.padding="0 15px",e.btn.style.maxWidth=n[0]-2*l.padding-2*l.controlBorderWidth-30+"px",e.btn.style.overflow="hidden",e.btn.style.height=l.buttonHeight+"px",e.btn.style.whiteSpace="nowrap",e.btn.style.border=l.controlBorderWidth+"px solid",s=(s=l.controlBorderColor.split(/\s+/)).length<2?s[0]:s[1]+" "+s[0]+" "+s[0]+" "+s[1],e.btn.style.borderColor=s,e.btn.style.color=l.buttonColor,e.btn.style.font="12px sans-serif",e.btn.style.textAlign="center",e.btn.style.cursor="pointer",e.btn.onmousedown=function(){l.hide()},e.btnT.style.lineHeight=l.buttonHeight+"px",e.btnT.innerHTML="",e.btnT.appendChild(v.document.createTextNode(l.closeText)),d(),c(),p(),m.picker.owner&&m.picker.owner!==l&&m.removeClass(m.picker.owner.targetElement,m.pub.activeClassName),(m.picker.owner=l).container===v.document.body?m.redrawPosition():m._drawPosition(l,0,0,"relative",!1),e.wrap.parentNode!==l.container&&l.container.appendChild(e.wrap),m.addClass(l.targetElement,m.pub.activeClassName)}function d(){var e=m.getPadYChannel(l),t=Math.round(l.channels.h/360*(l.width-1)),r=Math.round((1-l.channels[e]/100)*(l.height-1)),e=2*l.pointerBorderWidth+l.pointerThickness+2*l.crossSize,e=-Math.floor(e/2);switch(m.picker.cross.style.left=t+e+"px",m.picker.cross.style.top=r+e+"px",m.getSliderChannel(l)){case"s":var n=m.HSV_RGB(l.channels.h,100,l.channels.v),i=m.HSV_RGB(l.channels.h,0,l.channels.v),o="rgb("+Math.round(n[0])+","+Math.round(n[1])+","+Math.round(n[2])+")",n="rgb("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+")";m.picker.sldGrad.draw(l.sliderSize,l.height,o,n);break;case"v":i=m.HSV_RGB(l.channels.h,l.channels.s,100),o="rgb("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+")",n="#000";m.picker.sldGrad.draw(l.sliderSize,l.height,o,n)}m.picker.asldGrad.draw(l.sliderSize,l.height,l.toHEXString())}function c(){var e=m.getSliderChannel(l);e&&(e=Math.round((1-l.channels[e]/100)*(l.height-1)),m.picker.sldPtrOB.style.top=e-(2*l.pointerBorderWidth+l.pointerThickness)-Math.floor(m.pub.sliderInnerSpace/2)+"px"),m.picker.asldGrad.draw(l.sliderSize,l.height,l.toHEXString())}function p(){var e=Math.round((1-l.channels.a)*(l.height-1));m.picker.asldPtrOB.style.top=e-(2*l.pointerBorderWidth+l.pointerThickness)-Math.floor(m.pub.sliderInnerSpace/2)+"px"}function u(){return m.picker&&m.picker.owner===l}if(this.option=function(){if(!arguments.length)throw new Error("No option specified");if(1===arguments.length&&"string"==typeof arguments[0]){try{return function(e){if(m.deprecatedOpts.hasOwnProperty(e)){var t=e,r=m.deprecatedOpts[e];if(!r)throw new Error("Option '"+e+"' is DEPRECATED");console.warn("Option '%s' is DEPRECATED, using '%s' instead."+m.docsRef,t,r),e=r}if(e in l)return l[e];throw new Error("Unrecognized configuration option: "+e)}(arguments[0])}catch(e){console.warn(e)}return!1}if(2<=arguments.length&&"string"==typeof arguments[0]){try{if(!s(arguments[0],arguments[1]))return!1}catch(e){return console.warn(e),!1}return this.redraw(),this.exposeColor(),!0}if(1!==arguments.length||"object"!=typeof arguments[0])throw new Error("Invalid arguments");var e,t=arguments[0],r=!0;for(e in t)if(t.hasOwnProperty(e))try{s(e,t[e])||(r=!1)}catch(e){console.warn(e),r=!1}return this.redraw(),this.exposeColor(),r},this.channel=function(e,t){if("string"!=typeof e)throw new Error("Invalid value for channel name: "+e);if(void 0===t)return this.channels.hasOwnProperty(e.toLowerCase())?this.channels[e.toLowerCase()]:(console.warn("Getting unknown channel: "+e),!1);var r=!1;switch(e.toLowerCase()){case"r":r=this.fromRGBA(t,null,null,null);break;case"g":r=this.fromRGBA(null,t,null,null);break;case"b":r=this.fromRGBA(null,null,t,null);break;case"h":r=this.fromHSVA(t,null,null,null);break;case"s":r=this.fromHSVA(null,t,null,null);break;case"v":r=this.fromHSVA(null,null,t,null);break;case"a":r=this.fromHSVA(null,null,null,t);break;default:return console.warn("Setting unknown channel: "+e),!1}return!!r&&(this.redraw(),!0)},this.trigger=function(e){for(var t=m.strList(e),r=0;r<t.length;r+=1){var n=t[r].toLowerCase(),i=null;switch(n){case"input":i="onInput";break;case"change":i="onChange"}i&&m.triggerCallback(this,i),m.triggerInputEvent(this.valueElement,n,!0,!0)}},this.fromHSVA=function(e,t,r,n,i){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),null!==e){if(isNaN(e))return!1;this.channels.h=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;this.channels.s=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==r){if(isNaN(r))return!1;this.channels.v=Math.max(0,Math.min(100,this.maxV,r),this.minV)}if(null!==n){if(isNaN(n))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,n),this.minA):1}n=m.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=n[0],this.channels.g=n[1],this.channels.b=n[2],this.exposeColor(i),!0},this.fromRGBA=function(e,t,r,n,i){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==r){if(isNaN(r))return!1;r=Math.max(0,Math.min(255,r))}if(null!==n){if(isNaN(n))return!1;this.channels.a=this.hasAlphaChannel()?Math.max(0,Math.min(1,this.maxA,n),this.minA):1}r=m.RGB_HSV(null===e?this.channels.r:e,null===t?this.channels.g:t,null===r?this.channels.b:r);null!==r[0]&&(this.channels.h=Math.max(0,Math.min(360,r[0]))),0!==r[2]&&(this.channels.s=Math.max(0,this.minS,Math.min(100,this.maxS,r[1]))),this.channels.v=Math.max(0,this.minV,Math.min(100,this.maxV,r[2]));r=m.HSV_RGB(this.channels.h,this.channels.s,this.channels.v);return this.channels.r=r[0],this.channels.g=r[1],this.channels.b=r[2],this.exposeColor(i),!0},this.fromHSV=function(e,t,r,n){return console.warn("fromHSV() method is DEPRECATED. Using fromHSVA() instead."+m.docsRef),this.fromHSVA(e,t,r,null,n)},this.fromRGB=function(e,t,r,n){return console.warn("fromRGB() method is DEPRECATED. Using fromRGBA() instead."+m.docsRef),this.fromRGBA(e,t,r,null,n)},this.fromString=function(e,t){if(!this.required&&""===e.trim())return this.setPreviewElementBg(null),this.setValueElementValue(""),!0;e=m.parseColorString(e);return!!e&&("any"===this.format.toLowerCase()&&(this._currentFormat=e.format,"rgba"!==this.getFormat()&&(e.rgba[3]=1),this.redraw()),this.fromRGBA(e.rgba[0],e.rgba[1],e.rgba[2],e.rgba[3],t),!0)},this.toString=function(e){switch(void 0===e&&(e=this.getFormat()),e.toLowerCase()){case"hex":return this.toHEXString();case"rgb":return this.toRGBString();case"rgba":return this.toRGBAString()}return!1},this.toHEXString=function(){return"#"+(("0"+Math.round(this.channels.r).toString(16)).substr(-2)+("0"+Math.round(this.channels.g).toString(16)).substr(-2)+("0"+Math.round(this.channels.b).toString(16)).substr(-2)).toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.channels.r)+","+Math.round(this.channels.g)+","+Math.round(this.channels.b)+")"},this.toRGBAString=function(){return"rgba("+Math.round(this.channels.r)+","+Math.round(this.channels.g)+","+Math.round(this.channels.b)+","+Math.round(100*this.channels.a)/100+")"},this.toGrayscale=function(){return.213*this.channels.r+.715*this.channels.g+.072*this.channels.b},this.toCanvas=function(){return m.genColorPreviewCanvas(this.toRGBAString()).canvas},this.toDataURL=function(){return this.toCanvas().toDataURL()},this.toBackground=function(){return m.pub.background(this.toRGBAString())},this.isLight=function(){return 127.5<this.toGrayscale()},this.hide=function(){u()&&(m.removeClass(l.targetElement,m.pub.activeClassName),m.picker.wrap.parentNode.removeChild(m.picker.wrap),delete m.picker.owner)},this.show=function(){h()},this.redraw=function(){u()&&h()},this.getFormat=function(){return this._currentFormat},this.hasAlphaChannel=function(){return"auto"===this.alphaChannel?"any"===this.format.toLowerCase()||"rgba"===this.getFormat()||void 0!==this.alpha||void 0!==this.alphaElement:this.alphaChannel},this.processValueInput=function(e){this.fromString(e)||this.exposeColor()},this.processAlphaInput=function(e){this.fromHSVA(null,null,null,parseFloat(e))||this.exposeColor()},this.exposeColor=function(e){var t;e&m.flags.leaveValue||!this.valueElement||(t=this.toString(),"hex"===this.getFormat()&&(this.uppercase||(t=t.toLowerCase()),this.hash||(t=t.replace(/^#/,""))),this.setValueElementValue(t)),e&m.flags.leaveAlpha||!this.alphaElement||(t=Math.round(100*this.channels.a)/100,this.setAlphaElementValue(t)),e&m.flags.leavePreview||!this.previewElement||((m.isTextInput(this.previewElement)||m.isButton(this.previewElement)&&!m.isButtonEmpty(this.previewElement))&&this.previewPosition,this.setPreviewElementBg(this.toRGBAString())),u()&&(d(),c(),p())},this.setPreviewElementBg=function(e){if(this.previewElement){var t=null,r=null;(m.isTextInput(this.previewElement)||m.isButton(this.previewElement)&&!m.isButtonEmpty(this.previewElement))&&(t=this.previewPosition,r=this.previewSize);var n=[];e?(n.push({image:m.genColorPreviewGradient(e,t,r?r-m.pub.previewSeparator.length:null),position:"left top",size:"auto",repeat:t?"repeat-y":"repeat",origin:"padding-box"}),a=m.genColorPreviewCanvas("rgba(0,0,0,0)",t?{left:"right",right:"left"}[t]:null,r,!0),n.push({image:"url('"+a.canvas.toDataURL()+"')",position:(t||"left")+" top",size:a.width+"px "+a.height+"px",repeat:t?"repeat-y":"repeat",origin:"padding-box"})):n.push({image:"none",position:"left top",size:"auto",repeat:"no-repeat",origin:"padding-box"});for(var i={image:[],position:[],size:[],repeat:[],origin:[]},o=0;o<n.length;o+=1)i.image.push(n[o].image),i.position.push(n[o].position),i.size.push(n[o].size),i.repeat.push(n[o].repeat),i.origin.push(n[o].origin);r={"background-image":i.image.join(", "),"background-position":i.position.join(", "),"background-size":i.size.join(", "),"background-repeat":i.repeat.join(", "),"background-origin":i.origin.join(", ")};m.setStyle(this.previewElement,r,this.forceStyle);var a={left:null,right:null};t&&(a[t]=this.previewSize+this.previewPadding+"px");r={"padding-left":a.left,"padding-right":a.right};m.setStyle(this.previewElement,r,this.forceStyle,!0)}},this.setValueElementValue=function(e){this.valueElement&&("input"===m.nodeName(this.valueElement)?this.valueElement.value=e:this.valueElement.innerHTML=e)},this.setAlphaElementValue=function(e){this.alphaElement&&("input"===m.nodeName(this.alphaElement)?this.alphaElement.value=e:this.alphaElement.innerHTML=e)},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=m.getCompStyle(e)}while(t.position&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(m.getData(e,"hasScrollListener")||(e.addEventListener("scroll",m.onParentScroll,!1),m.setData(e,"hasScrollListener",!0))),(e=e.parentNode)&&"body"!==m.nodeName(e))}},this.tryHide=function(){this.hideOnLeave&&this.hide()},void 0===this.container?this.container=v.document.body:this.container=m.node(this.container),!this.container)throw new Error("Cannot instantiate color picker without a container element");if(this.targetElement=m.node(e),!this.targetElement){if("string"==typeof e&&/^[a-zA-Z][\w:.-]*$/.test(e))throw new Error("If '"+e+"' is supposed to be an ID, please use '#"+e+"' or any valid CSS selector.");throw new Error("Cannot instantiate color picker without a target element")}if(this.targetElement.jscolor&&this.targetElement.jscolor instanceof m.pub)throw new Error("Color picker already installed on this element");this.targetElement.jscolor=this,m.addClass(this.targetElement,m.pub.className),m.instances.push(this),m.isButton(this.targetElement)&&("button"!==this.targetElement.type.toLowerCase()&&(this.targetElement.type="button"),m.isButtonEmpty(this.targetElement)&&(m.removeChildren(this.targetElement),this.targetElement.appendChild(v.document.createTextNode("Â ")),f=m.getCompStyle(this.targetElement),(parseFloat(f["min-width"])||0)<this.previewSize&&m.setStyle(this.targetElement,{"min-width":this.previewSize+"px"},this.forceStyle))),void 0===this.valueElement?m.isTextInput(this.targetElement)&&(this.valueElement=this.targetElement):null===this.valueElement||(this.valueElement=m.node(this.valueElement)),this.alphaElement&&(this.alphaElement=m.node(this.alphaElement)),void 0===this.previewElement?this.previewElement=this.targetElement:null===this.previewElement||(this.previewElement=m.node(this.previewElement)),this.valueElement&&m.isTextInput(this.valueElement)&&(g={onInput:this.valueElement.oninput},this.valueElement.oninput=null,this.valueElement.addEventListener("keydown",function(e){"Enter"===m.eventKey(e)&&(l.valueElement&&l.processValueInput(l.valueElement.value),l.tryHide())},!1),this.valueElement.addEventListener("change",function(e){m.getData(e,"internal")||(e=l.valueElement.value,l.processValueInput(l.valueElement.value),m.triggerCallback(l,"onChange"),l.valueElement.value!==e&&m.triggerInputEvent(l.valueElement,"change",!0,!0))},!1),this.valueElement.addEventListener("input",function(e){m.getData(e,"internal")||(l.valueElement&&l.fromString(l.valueElement.value,m.flags.leaveValue),m.triggerCallback(l,"onInput"))},!1),g.onInput&&this.valueElement.addEventListener("input",g.onInput,!1),this.valueElement.setAttribute("autocomplete","off"),this.valueElement.setAttribute("autocorrect","off"),this.valueElement.setAttribute("autocapitalize","off"),this.valueElement.setAttribute("spellcheck",!1)),this.alphaElement&&m.isTextInput(this.alphaElement)&&(this.alphaElement.addEventListener("keydown",function(e){"Enter"===m.eventKey(e)&&(l.alphaElement&&l.processAlphaInput(l.alphaElement.value),l.tryHide())},!1),this.alphaElement.addEventListener("change",function(e){m.getData(e,"internal")||(e=l.alphaElement.value,l.processAlphaInput(l.alphaElement.value),m.triggerCallback(l,"onChange"),m.triggerInputEvent(l.valueElement,"change",!0,!0),l.alphaElement.value!==e&&m.triggerInputEvent(l.alphaElement,"change",!0,!0))},!1),this.alphaElement.addEventListener("input",function(e){m.getData(e,"internal")||(l.alphaElement&&l.fromHSVA(null,null,null,parseFloat(l.alphaElement.value),m.flags.leaveAlpha),m.triggerCallback(l,"onInput"),m.triggerInputEvent(l.valueElement,"input",!0,!0))},!1),this.alphaElement.setAttribute("autocomplete","off"),this.alphaElement.setAttribute("autocorrect","off"),this.alphaElement.setAttribute("autocapitalize","off"),this.alphaElement.setAttribute("spellcheck",!1));e="FFFFFF";void 0!==this.value?e=this.value:this.valueElement&&void 0!==this.valueElement.value&&(e=this.valueElement.value);var g,f=void 0;void 0!==this.alpha?f=""+this.alpha:this.alphaElement&&void 0!==this.alphaElement.value&&(f=this.alphaElement.value),this._currentFormat=null,-1<["auto","any"].indexOf(this.format.toLowerCase())?(g=m.parseColorString(e),this._currentFormat=g?g.format:"hex"):this._currentFormat=this.format.toLowerCase(),this.processValueInput(e),void 0!==f&&this.processAlphaInput(f)}}).pub.className="jscolor",m.pub.activeClassName="jscolor-active",m.pub.looseJSON=!0,m.pub.presets={},m.pub.presets.default={},m.pub.presets.light={backgroundColor:"rgba(255,255,255,1)",controlBorderColor:"rgba(187,187,187,1)",buttonColor:"rgba(0,0,0,1)"},m.pub.presets.dark={backgroundColor:"rgba(51,51,51,1)",controlBorderColor:"rgba(153,153,153,1)",buttonColor:"rgba(240,240,240,1)"},m.pub.presets.small={width:101,height:101,padding:10,sliderSize:14},m.pub.presets.medium={width:181,height:101,padding:12,sliderSize:16},m.pub.presets.large={width:271,height:151,padding:12,sliderSize:24},m.pub.presets.thin={borderWidth:1,controlBorderWidth:1,pointerBorderWidth:1},m.pub.presets.thick={borderWidth:2,controlBorderWidth:2,pointerBorderWidth:2},m.pub.sliderInnerSpace=3,m.pub.chessboardSize=8,m.pub.chessboardColor1="#666666",m.pub.chessboardColor2="#999999",m.pub.previewSeparator=["rgba(255,255,255,.65)","rgba(128,128,128,.65)"],m.pub.init=function(){if(!m.initialized)for(v.document.addEventListener("mousedown",m.onDocumentMouseDown,!1),v.document.addEventListener("keyup",m.onDocumentKeyUp,!1),v.addEventListener("resize",m.onWindowResize,!1),m.pub.install(),m.initialized=!0;m.triggerQueue.length;){var e=m.triggerQueue.shift();m.triggerGlobal(e)}},m.pub.install=function(e){var t=!0;try{m.installBySelector("[data-jscolor]",e)}catch(e){t=!1,console.warn(e)}if(m.pub.lookupClass)try{m.installBySelector("input."+m.pub.lookupClass+", button."+m.pub.lookupClass,e)}catch(e){}return t},m.pub.trigger=function(e){m.initialized?m.triggerGlobal(e):m.triggerQueue.push(e)},m.pub.hide=function(){m.picker&&m.picker.owner&&m.picker.owner.hide()},m.pub.chessboard=function(e){return e=e||"rgba(0,0,0,0)",m.genColorPreviewCanvas(e).canvas.toDataURL()},m.pub.background=function(e){var t=[];t.push(m.genColorPreviewGradient(e));e=m.genColorPreviewCanvas();return t.push(["url('"+e.canvas.toDataURL()+"')","left top","repeat"].join(" ")),t.join(", ")},m.pub.options={},m.pub.lookupClass="jscolor",m.pub.installByClassName=function(){return console.error('jscolor.installByClassName() is DEPRECATED. Use data-jscolor="" attribute instead of a class name.'+m.docsRef),!1},m.register(),m.pub);function r(e,t,r,n,i,o){this.hShadow=e,this.vShadow=t,this.blur=r,this.spread=n,this.color=i,this.inset=!!o}return void 0===v.jscolor&&(v.jscolor=v.JSColor=t),t});